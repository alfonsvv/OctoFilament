{% autoescape true %}

<!-- -----------------------------------------------------------
     OctoFilament - Navbar dropdown
     -----------------------------------------------------------
     Este bloque muestra:
       - Icono dinámico del estado del filamento
       - Texto del estado (present / absent / error)
       - Menú desplegable con acciones:
           • Load Filament (extrude ↓)
           • Unload Filament (retract ↑)
     ----------------------------------------------------------- -->

<div id="navbar_plugin_octofilament" class="dropdown">

  <!-- Botón principal: icono + estado + flecha -->
  <a href="#" class="dropdown-toggle" data-toggle="dropdown"
     style="display: flex; align-items: center; text-decoration: none;">

    <!-- Icono dinámico -->
    <i data-bind="attr: { 'class': iconClass },
                  style: { color: iconColor }"
       style="margin-right: 6px;"></i>

    <!-- Texto del estado -->
    <span data-bind="text: filamentStatus"></span>

    <!-- Flecha del menú -->
    <i class="fa fa-caret-down" style="margin-left: 6px;"></i>
  </a>

  <!-- Menú desplegable -->
  <ul class="dropdown-menu">

    <!-- Load Filament (extrude) -->
    <li>
      <a href="#" data-bind="click: cargarFilamento">
        <i class="fa fa-arrow-down"></i>
        Load Filament
      </a>
    </li>

    <!-- Unload Filament (retract) -->
    <li>
      <a href="#" data-bind="click: extraerFilamento">
        <i class="fa fa-arrow-up"></i>
        Unload Filament
      </a>
    </li>

  </ul>

</div>

{% endautoescape %}
